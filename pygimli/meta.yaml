package:
    # INFO:
    # The version is generated from the last git tag, an underscore and the
    # number of commits since the last tag, i.e. 1.0.5_137 This assures that
    # also intermediate versions will trigger an update of anaconda badges.
    name: pygimli
    version: {{ GIT_DESCRIBE_TAG[1:] + "_" + GIT_DESCRIBE_NUMBER }}

build:
    rpaths:
        - lib/
        - lib64/

source:
    git_url: https://github.com/gimli-org/gimli.git
    #git_tag: dev
    git_tag: v1.0.7

requirements:
    build:
        - gcc >=4.8.3  # [linux]
        - boost 1.67.0
        - cmake >=2.8.10
        - python x.x
        - numpy x.x
        - openblas
        - wget # [not linux]

    run:
        - boost 1.67.0
        - gcc >=4.8.3  # [linux]
        - python x.x
        - numpy x.x
        - matplotlib >=2.1.2 # weird plotting bug in 2.1
        - openblas
        - scipy # for workshop only
        - pytest

test:
    imports:
        - pygimli
    commands:
        - pytripatch -h # Python app
        #- python -c "import pygimli; pygimli.test(onlydoctests=True, abort=True)"

about:
    home: http://www.pygimli.org
    summary: Geophysical Inversion and Modelling Library
    license: Apache 2.0
